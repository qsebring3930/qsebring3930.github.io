<!DOCTYPE html>
  <html lang="en">

    <head>
      <link rel="stylesheet" href="csci340lab2/css/bootstrap.min.css">
      <link rel="stylesheet" href="style.css">
      <title>WikiPrompt</title>
    </head>

    <body>
      <div class="container">
        <div class="header">
          <img id="headerimage" src="https://live.staticflickr.com/715/22433772542_742691b25e_b.jpg" alt="Megachile rubi, M, Back, NC, Moore County_2014-01-07-18.55.27 ZS PMax">
          <a id="headertext">WikiPrompt</a>
          <button class="headerbutton">Home</button>
          <button class="headerbutton">Shared Prompts</button>
          <button class="headerbutton">About</button>
        </div>
        <div class="headerstrip">
        </div>
        <div class="body">
          <div class="introduction">
            <h1 id="introductiontitle">Welcome Writers!</h1>
            <p id="introductiontext">Press the "New Prompt" button to receive a random image and a random excerpt from a Wikipedia page, then write!</p>
          </div>
          <div class="image">
            <img id="givenimage" src="blank.jpg" alt="blank image">
            <button id="newimagebutton">New Image</button>
          </div>
          <div class="text">
            <p id="giventext">Placeholder</p>
            <button id="newtextbutton">New Excerpt</button>
          </div>
          <button id="newpromptbutton">New Prompt</button>
        </div>
      </div>

    <script src="jquery-3.6.0.min.js"></script>
    <script>
      $("img#headerimage").height(50);
      $("img#headerimage").width(50);
      $(document).ready(function() {
        $('#newtextbutton').click(function() {
          $.ajax({
            dataType: "json",
            url: "https://en.wikipedia.org/w/api.php?format=json&action=query&generator=random&grnnamespace=0&prop=extracts&exintro&explaintext&origin=*",
            success: function(data) {
              console.log(data);
              var propnamelist = Object.keys(data.query.pages);
              var pageid = propnamelist[0];
              console.log(pageid);
              var extract = data.query.pages[pageid].extract;
              console.log(extract);
            },
            error: function(xhr,status,error) {
              console.log(error);
            }
          });
        });
      });
      $("newimagebutton").click();
      $("newpromptbutton").click();
    </script>
    <script src="csci340lab2/js/bootstrap.min.js"></script>
    </body>
  </html>
